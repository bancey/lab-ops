parameters:
  - name: address
    type: string

steps:
  - script: |
      if nc -z ${{ parameters.address }} 22 2>/dev/null; then
        echo "${{ parameters.address }} ✓"
        echo "##vso[task.setvariable variable=online;isOutput=true]true"
      else
        echo "${{ parameters.address }} ✗"
        echo "##vso[task.setvariable variable=online;isOutput=true]false"
      fi
    name: checkOnline
